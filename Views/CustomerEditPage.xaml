<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="CommsManager.Views.CustomerEditPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:CommsManager.ViewModels"
             xmlns:models="clr-namespace:CommsManager.Models"
             x:DataType="viewmodels:CustomerEditViewModel">
    
    <ScrollView>
        <StackLayout Padding="20" Spacing="15">
            <Label Text="{Binding Title}" FontSize="20" FontAttributes="Bold" HorizontalOptions="Center"/>
            
            <Frame BackgroundColor="{AppThemeBinding Light=#F5F5F5, Dark=#2A2A2A}" Padding="15" CornerRadius="10">
                <StackLayout>
                    <Label Text="Имя заказчика *" FontSize="14" TextColor="Gray"/>
                    <Entry Text="{Binding Name}" Placeholder="Введите имя" FontSize="16"/>
                </StackLayout>
            </Frame>
            
            <Frame BackgroundColor="{AppThemeBinding Light=#F5F5F5, Dark=#2A2A2A}" Padding="15" CornerRadius="10">
                <StackLayout Spacing="10">
                    <Label Text="Контактная информация" FontSize="16" FontAttributes="Bold"/>
                    
                    <StackLayout>
                        <Label Text="Email" FontSize="14" TextColor="Gray"/>
                        <Entry Text="{Binding Email}" Placeholder="email@example.com" Keyboard="Email" FontSize="16"/>
                    </StackLayout>
                    
                    <StackLayout>
                        <Label Text="Телефон" FontSize="14" TextColor="Gray"/>
                        <Entry Text="{Binding Phone}" Placeholder="+7 (XXX) XXX-XX-XX" Keyboard="Telephone" FontSize="16"/>
                    </StackLayout>
                    
                    <StackLayout>
                        <Label Text="Социальные сети" FontSize="14" TextColor="Gray"/>
                        <Entry Text="{Binding SocialMedia}" Placeholder="Ссылка на профиль" FontSize="16"/>
                    </StackLayout>
                </StackLayout>
            </Frame>
            
            <Frame BackgroundColor="{AppThemeBinding Light=#F5F5F5, Dark=#2A2A2A}" Padding="15" CornerRadius="10">
                <StackLayout>
                    <Label Text="Дополнительная информация" FontSize="16" FontAttributes="Bold"/>
                    
                    <StackLayout>
                        <Label Text="ID контакта" FontSize="14" TextColor="Gray"/>
                        <Entry Text="{Binding ContactId}" Placeholder="Идентификатор контакта" FontSize="16"/>
                    </StackLayout>
                    
                    <StackLayout>
                        <Label Text="Заметки" FontSize="14" TextColor="Gray"/>
                        <Editor Text="{Binding Notes}" 
                                Placeholder="Дополнительная информация о заказчике"
                                AutoSize="TextChanges"
                                MinimumHeightRequest="80"
                                FontSize="16"/>
                    </StackLayout>
                </StackLayout>
            </Frame>
            
            <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                <Button Grid.Column="0"
                        Text="Отмена"
                        Command="{Binding CancelCommand}"
                        BackgroundColor="Gray"
                        TextColor="White"
                        CornerRadius="10"
                        HeightRequest="50"/>
                
                <Button Grid.Column="1"
                        Text="{Binding IsNewCustomer, Converter={StaticResource BooleanToTextConverter}, ConverterParameter='Создать|Сохранить'}"
                        Command="{Binding SaveCustomerCommand}"
                        BackgroundColor="{AppThemeBinding Light=#007ACC, Dark=#0099FF}"
                        TextColor="White"
                        CornerRadius="10"
                        HeightRequest="50"/>
            </Grid>
        </StackLayout>
    </ScrollView>
</ContentPage>